<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Pi Guitar Premium</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #ffffff;
      color: #000;
    }
    h1 {
      font-size: 28px;
      margin-top: 20px;
    }
    button {
      margin: 8px;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      background-color: #7b2cbf;
      color: white;
      cursor: pointer;
    }
    .demo-song {
      margin-top: 20px;
    }
    .chord {
      display: inline-block;
      background: #eee;
      padding: 8px 14px;
      margin: 4px;
      border-radius: 6px;
      font-weight: bold;
    }
    .instrument-buttons button {
      margin: 4px;
    }
    .speed-control {
      margin: 20px auto;
      width: 80%;
    }
  </style>
</head>
<body>
  <h1>üé∏ Pi Guitar Premium</h1>
  <button id="loginBtn">ƒêƒÉng nh·∫≠p v·ªõi Pi</button>
  <button id="buyBtn">Mua Premium 1 Pi/th√°ng</button>
  <p id="status">Ch∆∞a ƒëƒÉng nh·∫≠p.</p>

  <div class="demo-song">
    <h3>Ch·ªçn b√†i h√°t demo</h3>
    <button onclick="selectSong('C·∫£m ∆†n Ng∆∞·ªùi T√¨nh')">C·∫£m ∆†n Ng∆∞·ªùi T√¨nh</button>
    <button onclick="selectSong('Hallelujah')">Hallelujah</button>
    <button onclick="selectSong('Perfect')">Perfect (Ed Sheeran)</button>
  </div>

  <div class="player">
    <button onclick="playSong()">üî∫ Play</button>
    <button onclick="restartSong()">‚Üª Restart</button>
    <div class="speed-control">
      <label for="speed">T·ªëc ƒë·ªô: <span id="speedDisplay">100%</span></label><br>
      <input type="range" id="speed" min="50" max="150" value="100" oninput="updateSpeed(this.value)">
    </div>
  </div>

  <div class="chords">
    <h3>H·ª£p √¢m hi·ªán t·∫°i: <span id="currentChord">G</span></h3>
    <div class="chord">G</div>
    <div class="chord">Em</div>
    <div class="chord">C</div>
    <p><b>G</b> (s∆° ƒë·ªì demo guitar)</p>
  </div>

  <div class="lyrics">
    <h3>L·ªùi b√†i h√°t</h3>
    <p>I found a love ... darling you look perfect tonight ...</p>
    <p>...<br><i>(Mua Premium ƒë·ªÉ xem ƒë·∫ßy ƒë·ªß)</i></p>
  </div>

  <div class="instrument-buttons">
    <button>Guitar</button>
    <button>Ukulele</button>
    <button>Piano</button>
    <button>Mandolin</button>
  </div>

  <script src="https://sdk.minepi.com/pi-sdk.js"></script>
  <script>
    Pi.init({ version: "2.0", sandbox: false });

    document.getElementById('loginBtn').addEventListener('click', loginWithPi);
    document.getElementById('buyBtn').addEventListener('click', buyPremium);

    function loginWithPi() {
      Pi.authenticate(['username', 'payments'], (payment) => {
        console.log("Incomplete payment:", payment);
      }).then(function(auth) {
        document.getElementById("status").innerText = "Xin ch√†o, " + auth.user.username;
      }).catch(function(error) {
        alert("Login th·∫•t b·∫°i: " + error);
      });
    }

    function buyPremium() {
      const paymentData = {
        amount: 1,
        memo: "Mua Premium Guitar 1 Pi/th√°ng",
        metadata: { plan: "premium" }
      };
      Pi.createPayment(paymentData, {
        onReadyForServerApproval: function(paymentId) { alert("Ready for approval: " + paymentId); },
        onReadyForServerCompletion: function(paymentId, txid) { alert("Payment completed: " + paymentId + ", txid: " + txid); },
        onCancel: function(paymentId) { alert("Thanh to√°n b·ªã hu·ª∑: " + paymentId); },
        onError: function(error) { alert("L·ªói thanh to√°n: " + error); }
      });
    }

    function selectSong(songName) {
      alert("B·∫°n ƒë√£ ch·ªçn: " + songName);
    }

    function playSong() {
      alert("ƒêang ph√°t nh·∫°c...");
    }

    function restartSong() {
      alert("Ph√°t l·∫°i t·ª´ ƒë·∫ßu...");
    }

    function updateSpeed(val) {
      document.getElementById("speedDisplay").innerText = val + "%";
    }
  </script>
</body>
</html>
