<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tranmarket Kingdom ‚Äî ROOM V19.0</title>

  <style>
    :root {
      --bg:#050816;
      --panel:#0b1120;
      --panel-soft:#111827;
      --accent:#6366f1;
      --accent-soft:#4f46e5;
      --accent-2:#22d3ee;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --danger:#f97373;
      --radius-lg:18px;
      --radius-xl:26px;
    }

    * {
      box-sizing:border-box;
      margin:0;
      padding:0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #111827 0, #020617 45%, #000 100%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      flex-direction:column;
      padding:16px;
      gap:16px;
    }

    body.focus-on {
      background: radial-gradient(circle at top, #020617 0, #000 40%, #020617 100%);
    }

    .app-shell {
      max-width:1200px;
      width:100%;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    header.app-header {
      background:linear-gradient(135deg, rgba(79,70,229,0.18), rgba(14,165,233,0.10));
      border-radius:var(--radius-xl);
      border:1px solid rgba(148,163,184,0.25);
      padding:16px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      box-shadow:0 18px 45px rgba(15,23,42,0.9);
      backdrop-filter:blur(18px);
    }

    .brand-block {
      display:flex;
      align-items:center;
      gap:12px;
    }

    .brand-logo {
      width:40px;
      height:40px;
      border-radius:16px;
      border:1px solid rgba(148,163,184,0.5);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:20px;
      background:radial-gradient(circle at top left, #4f46e5, #0f172a);
      box-shadow:0 10px 30px rgba(15,23,42,0.9);
    }

    .brand-text-main {
      font-size:18px;
      font-weight:700;
      letter-spacing:0.04em;
    }

    .brand-text-sub {
      font-size:12px;
      color:var(--muted);
    }

    .header-right {
      display:flex;
      align-items:center;
      gap:10px;
      font-size:12px;
      color:var(--muted);
    }

    .pill {
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.45);
      background:rgba(15,23,42,0.8);
      display:flex;
      align-items:center;
      gap:6px;
      font-size:11px;
    }

    .pill-dot {
      width:7px;
      height:7px;
      border-radius:999px;
      background:radial-gradient(circle, #22c55e, #16a34a);
      box-shadow:0 0 12px rgba(34,197,94,0.9);
    }

    main {
      display:grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.4fr);
      gap:16px;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns:1fr;
      }
    }

    .panel {
      background:linear-gradient(145deg, rgba(15,23,42,0.9), rgba(15,23,42,0.95));
      border-radius:var(--radius-xl);
      border:1px solid rgba(30,64,175,0.9);
      padding:14px 14px 16px;
      box-shadow:0 18px 50px rgba(0,0,0,0.9);
    }

    .panel-header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:8px;
    }

    .panel-title {
      font-size:14px;
      font-weight:600;
      letter-spacing:0.06em;
      text-transform:uppercase;
      color:#e5e7eb;
    }

    .panel-tagline {
      font-size:11px;
      color:var(--muted);
    }

    .panel-body {
      display:flex;
      flex-direction:column;
      gap:12px;
      font-size:13px;
    }

    .kbd {
      font-size:11px;
      padding:2px 6px;
      border-radius:6px;
      border:1px solid rgba(148,163,184,0.5);
      background:rgba(15,23,42,0.9);
      color:var(--muted);
    }

    /* === Player block === */
    .player-card {
      background:radial-gradient(circle at top left, rgba(79,70,229,0.3), rgba(15,23,42,0.95));
      border-radius:var(--radius-lg);
      padding:10px 11px;
      border:1px solid rgba(129,140,248,0.8);
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .song-meta {
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      font-size:12px;
    }

    .song-title {
      font-weight:600;
    }

    .song-key-bpm {
      font-size:11px;
      color:var(--muted);
    }

    .controls-row {
      display:flex;
      align-items:center;
      gap:8px;
    }

    button.btn {
      border:none;
      outline:none;
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:500;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      background:linear-gradient(135deg, var(--accent), var(--accent-soft));
      color:white;
      box-shadow:0 10px 25px rgba(79,70,229,0.8);
      transition:transform 0.08s ease, box-shadow 0.08s ease, background 0.12s ease;
    }

    button.btn:hover {
      transform:translateY(-1px);
      box-shadow:0 14px 35px rgba(79,70,229,1);
    }

    button.btn:active {
      transform:translateY(0);
      box-shadow:0 6px 18px rgba(79,70,229,0.9);
    }

    button.btn-ghost {
      background:rgba(15,23,42,0.9);
      color:var(--muted);
      border:1px solid rgba(148,163,184,0.7);
      box-shadow:none;
    }

    button.btn-ghost:hover {
      background:rgba(15,23,42,0.95);
      color:#e5e7eb;
      box-shadow:0 10px 25px rgba(15,23,42,0.9);
    }

    button.btn-danger {
      background:linear-gradient(135deg, #f97373, #ef4444);
      box-shadow:0 10px 28px rgba(248,113,113,0.95);
    }

    button.btn-sm {
      padding:4px 9px;
      font-size:11px;
    }

    .progress-row {
      display:flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      color:var(--muted);
    }

    .progress-bar-wrap {
      flex:1;
      height:6px;
      border-radius:999px;
      background:rgba(30,64,175,0.7);
      overflow:hidden;
    }

    .progress-bar-inner {
      height:100%;
      width:0%;
      border-radius:inherit;
      background:linear-gradient(90deg, var(--accent-2), var(--accent));
      transition:width 0.12s linear;
    }

    /* === Focus & status === */
    .focus-row {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      font-size:11px;
    }

    .focus-label {
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .focus-label-main {
      font-weight:500;
    }

    .focus-label-sub {
      color:var(--muted);
      font-size:11px;
    }

    .status-dot {
      width:8px;
      height:8px;
      border-radius:999px;
      background:radial-gradient(circle, #fb923c, #ea580c);
      box-shadow:0 0 10px rgba(248,153,72,0.9);
    }

    .status-dot.focus-active {
      background:radial-gradient(circle, #22c55e, #16a34a);
      box-shadow:0 0 12px rgba(34,197,94,0.95);
    }

    /* === Chord panel === */
    .chord-panel {
      background:radial-gradient(circle at top, rgba(14,165,233,0.25), rgba(15,23,42,0.98));
      border-radius:var(--radius-xl);
      border:1px solid rgba(56,189,248,0.75);
      padding:12px 12px 14px;
      box-shadow:0 18px 50px rgba(8,47,73,0.9);
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .chord-header-row {
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-size:12px;
    }

    .chord-meta {
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .chord-meta-main {
      font-weight:500;
    }

    .chord-meta-sub {
      color:var(--muted);
      font-size:11px;
    }

    .chord-tools {
      display:flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      color:var(--muted);
    }

    .chord-body {
      position:relative;
      border-radius:var(--radius-lg);
      border:1px solid rgba(148,163,184,0.7);
      background:rgba(15,23,42,0.96);
      overflow:hidden;
      max-height:420px;
      display:flex;
      flex-direction:column;
    }

    .chord-scroll {
      flex:1;
      overflow-y:auto;
      padding:12px 12px 14px;
      font-family:"JetBrains Mono","Fira Code",monospace;
      font-size:12px;
      line-height:1.6;
      white-space:pre;
    }

    .chord-scroll::-webkit-scrollbar {
      width:6px;
    }

    .chord-scroll::-webkit-scrollbar-track {
      background:transparent;
    }

    .chord-scroll::-webkit-scrollbar-thumb {
      background:rgba(148,163,184,0.8);
      border-radius:999px;
    }

    .chord-footer {
      padding:6px 10px 7px;
      border-top:1px solid rgba(31,41,55,0.95);
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-size:11px;
      color:var(--muted);
      background:linear-gradient(90deg, rgba(15,23,42,0.98), rgba(15,23,42,0.9));
    }

    .chord-badge {
      padding:2px 7px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.08em;
    }

    /* === Pi section === */
    .pi-panel {
      margin-top:8px;
      background:radial-gradient(circle at top left, rgba(234,179,8,0.28), rgba(15,23,42,0.98));
      border-radius:var(--radius-lg);
      border:1px solid rgba(250,204,21,0.7);
      padding:10px 11px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      font-size:12px;
    }

    .pi-left {
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .pi-main {
      font-weight:500;
    }

    .pi-sub {
      color:var(--muted);
      font-size:11px;
    }

    footer {
      max-width:1200px;
      width:100%;
      margin:0 auto;
      font-size:11px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      gap:8px;
      padding:2px 4px 0;
    }

    @media (max-width: 640px) {
      header.app-header {
        flex-direction:column;
        align-items:flex-start;
      }
      .header-right {
        align-self:stretch;
        justify-content:space-between;
      }
      footer {
        flex-direction:column;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="brand-block">
        <div class="brand-logo">TK</div>
        <div>
          <div class="brand-text-main">Tranmarket Kingdom</div>
          <div class="brand-text-sub">Chord runner ¬∑ Focus mode ¬∑ Pi-ready</div>
        </div>
      </div>
      <div class="header-right">
        <div class="pill">
          <span class="pill-dot"></span>
          <span id="backend-status-text">Backend: checking‚Ä¶</span>
        </div>
        <div class="pill">
          ROOM V19.0
        </div>
      </div>
    </header>

    <main>
      <!-- ===== Left: Player + Focus ===== -->
      <section class="panel" id="player-panel">
        <div class="panel-header">
          <div>
            <div class="panel-title">Player ¬∑ Focus</div>
            <div class="panel-tagline">Ch·∫°y h·ª£p √¢m, kho√° n√£o, ƒë·ªÉ Pi lo ph·∫ßn c√≤n l·∫°i</div>
          </div>
          <span class="kbd">SPACE ¬∑ F</span>
        </div>

        <div class="panel-body">
          <div class="player-card">
            <div class="song-meta">
              <div>
                <div class="song-title" id="song-title">Demo track ‚Äî Tranmarket Intro</div>
                <div class="song-key-bpm" id="song-meta">Key: G ¬∑ 72 BPM ¬∑ 4/4</div>
              </div>
            </div>

            <div class="controls-row">
              <button class="btn" id="play-toggle">
                <span id="play-icon">‚ñ∂</span>
                <span id="play-label">Play</span>
              </button>

              <button class="btn btn-ghost btn-sm" id="rewind-5">
                ‚è™ -5s
              </button>
              <button class="btn btn-ghost btn-sm" id="forward-5">
                ‚è© +5s
              </button>

              <button class="btn btn-ghost btn-sm" id="focus-toggle">
                üéØ Focus
              </button>
            </div>

            <div class="progress-row">
              <span id="time-current">0:00</span>
              <div class="progress-bar-wrap">
                <div class="progress-bar-inner" id="progress-bar"></div>
              </div>
              <span id="time-total">0:00</span>
            </div>

            <audio id="audio" preload="metadata">
              <!-- ƒê·ªïi ƒë∆∞·ªùng d·∫´n cho ph√π h·ª£p d·ª± √°n c·ªßa anh -->
              <source src="audio/demo.mp3" type="audio/mpeg" />
            </audio>
          </div>

          <div class="focus-row">
            <div class="focus-label">
              <span class="focus-label-main">Focus mode</span>
              <span class="focus-label-sub" id="focus-status-text">
                T·∫Øt ¬∑ Chord s·∫Ω kh√¥ng t·ª± cu·ªôn
              </span>
            </div>
            <div class="status-dot" id="focus-status-dot"></div>
          </div>

          <div class="focus-row">
            <div class="focus-label">
              <span class="focus-label-main">Session ¬∑ Tracking</span>
              <span class="focus-label-sub" id="session-status-text">
                Ch∆∞a g·ª≠i session n√†o l√™n backend
              </span>
            </div>
            <button class="btn btn-ghost btn-sm" id="save-session-btn">
              üíæ L∆∞u session
            </button>
          </div>
        </div>
      </section>

      <!-- ===== Right: Chord Runner ===== -->
      <section class="chord-panel">
        <div class="chord-header-row">
          <div class="chord-meta">
            <span class="chord-meta-main" id="chord-title">
              G Intro ‚Äî Tranmarket Kingdom
            </span>
            <span class="chord-meta-sub">
              Arrow ‚Üë‚Üì ¬∑ PageUp/Down ƒë·ªÉ cu·ªôn ¬∑ F b·∫≠t t·∫Øt Focus
            </span>
          </div>
          <div class="chord-tools">
            <span id="scroll-speed-label">Scroll: x1.0</span>
            <button class="btn btn-ghost btn-sm" id="scroll-slower">‚Äì</button>
            <button class="btn btn-ghost btn-sm" id="scroll-faster">+</button>
          </div>
        </div>

        <div class="chord-body">
          <div class="chord-scroll" id="chord-scroll">
Tranmarket Kingdom ¬∑ Demo chart (G)

[Intro]
G    D/F#   Em7   C
G    D/F#   Em7   C

[Verse 1]
G                    D/F#
  Wake the chords, let kingdom run
Em7                    C
  Market flows but grace has won
G                    D/F#
  Every trade and every line
Em7                        C
  Tied to truth, not chasing time

[Pre-Chorus]
Am7                    G/B
  When the screens are shouting fear
C                     D
  Lift your eyes, He's still right here

[Chorus]
G               D/F#
  I'm not owned by FOMO waves
Em7               C
  I'm not chained to weekly crave
G                 D/F#
  Kingdom value, not just price
Em7                   C
  Jesus paid the perfect price

[Tag]
G            D/F#
  Tranmarket Kingdom flow
Em7               C
  Where Pi and people grow

[Bridge - build]
G/B         C
  Let the charts align
D          Em7
  With a higher design
G/B         C
  Let my trades confess
D              Em7
  You're the source, no less

[Outro]
G    D/F#   Em7   C
G    D/F#   Em7   C    G
          </div>
          <div class="chord-footer">
            <span class="chord-badge" id="focus-indicator">
              Focus: OFF
            </span>
            <span id="chord-footer-status">
              Ready ¬∑ ROOM V19.0
            </span>
          </div>
        </div>

        <div class="pi-panel">
          <div class="pi-left">
            <span class="pi-main">Pi Login ¬∑ Sandbox</span>
            <span class="pi-sub" id="pi-status-text">
              Ch∆∞a k·∫øt n·ªëi Pi SDK ¬∑ S·∫Ω th·ª≠ kh·ªüi t·∫°o khi anh b·∫•m n√∫t
            </span>
          </div>
          <button class="btn btn-sm" id="pi-login-btn">
            œÄ Login
          </button>
        </div>
      </section>
    </main>

    <footer>
      <span>TranmarketKingdom ¬∑ ROOM V19.0 ¬∑ Frontend clean build</span>
      <span id="version-info">Index.js v19.0 ¬∑ Backend link pending</span>
    </footer>
  </div>

  <!-- Pi SDK (ƒë·ªÉ placeholder, n·∫øu ch·∫°y ngo√†i Pi Browser s·∫Ω kh√¥ng sao) -->
  <script src="https://sdk.minepi.com/pi-sdk.js"></script>

  <!-- Frontend logic -->
  <script src="index.js"></script>
</body>
</html>
