<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PiChordify Kingdom üé∂</title>
  <script src="https://sdk.minepi.com/pi-sdk.js"></script>
  <style>
    body {
      background-color: #f2ecff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #8000c8;
      font-size: 2.5em;
    }
    select, button {
      font-size: 1em;
      padding: 10px;
      margin: 10px;
    }
    .premium-option {
      margin: 10px 0;
    }
    .highlight {
      font-weight: bold;
      color: #8000c8;
    }
    .instrument-icons img {
      width: 64px;
      margin: 0 10px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    .instrument-icons img:hover {
      transform: scale(1.2);
    }
    .info-btn {
      font-size: 1.2em;
      cursor: pointer;
      border: none;
      background: none;
      color: #8000c8;
    }
  </style>
</head>
<body>
  <h1>üé∂ Welcome to <span class="highlight">PiChordify Kingdom</span> üé∂</h1>
  <p>Kh√°m ph√° h·ª£p √¢m cho c√°c nh·∫°c c·ª• ph·ªï bi·∫øn!</p>

  <div class="instrument-icons">
    <img src="https://cdn-icons-png.flaticon.com/512/727/727245.png" alt="Guitar" title="Guitar">
    <img src="https://cdn-icons-png.flaticon.com/512/65/65014.png" alt="Piano" title="Piano">
    <img src="https://cdn-icons-png.flaticon.com/512/562/562148.png" alt="Ukulele" title="Ukulele">
  </div>

  <p>üéº Ch·ªçn b√†i nh·∫°c & ƒëi·ªÅu ch·ªânh h·ª£p √¢m theo √Ω b·∫°n!</p>

  <button onclick="loginWithPi()">üîê ƒêƒÉng nh·∫≠p v·ªõi Pi</button>

  <div class="premium-option">
    <label for="plan">üíé Ch·ªçn g√≥i h·ªçc:</label>
    <select id="plan">
      <option value="0.3">G√≥i D·∫°o Nh·∫°c (0.3 Pi)</option>
      <option value="1">G√≥i Ho√†ng T·ª≠ Ph√≠m Nh·∫°c (1 Pi)</option>
      <option value="3.14">G√≥i Master PiChordify (3.14 Pi)</option>
      <option value="31.4159">G√≥i Divine GCV Edition (31.4159 Pi)</option>
    </select>
  </div>

  <button onclick="buyPremium()">üíé Mua G√≥i Premium</button>

  <p>
    <button class="info-btn" onclick="showGuide()">‚ÑπÔ∏è</button>
  </p>

  <script>
    Pi.init({ version: "2.0", sandbox: false });

    function loginWithPi() {
      const scopes = ['username', 'payments'];
      const onIncompletePaymentFound = (payment) => {
        console.log('Incomplete payment found:', payment);
      };

      Pi.authenticate(scopes, onIncompletePaymentFound)
        .then(function(auth) {
          console.log('Authentication success', auth);
          alert("Xin ch√†o, " + auth.user.username);
        })
        .catch(function(error) {
          console.error('Authentication failed:', error);
          alert("ƒêƒÉng nh·∫≠p th·∫•t b·∫°i: " + error);
        });
    }

    function buyPremium() {
      const planValue = document.getElementById("plan").value;
      const planName = document.getElementById("plan").selectedOptions[0].text;
      if (planValue == "31.4159") {
        const confirmed = confirm("‚ö†Ô∏è C·∫£nh b√°o: B·∫°n s·∫Øp ƒë·∫°t c·∫£nh gi·ªõi √¢m nh·∫°c th·∫ßn th√°nh v·ªõi " + planName + ". Ti·∫øp t·ª•c?");
        if (!confirmed) return;
      }
      Pi.createPayment({
        amount: planValue,
        memo: "Thanh to√°n g√≥i: " + planName,
        metadata: { type: "premium_plan", name: planName }
      }, {
        onReadyForServerApproval: function (paymentId) {
          console.log("Ch·ªù duy·ªát...", paymentId);
        },
        onReadyForServerCompletion: function (paymentId, txid) {
          console.log("Ho√†n t·∫•t giao d·ªãch:", txid);
          alert("C·∫£m ∆°n b·∫°n ƒë√£ mua g√≥i: " + planName);
        },
        onCancel: function (paymentId) {
          alert("B·∫°n ƒë√£ hu·ª∑ thanh to√°n.");
        },
        onError: function (error, payment) {
          alert("L·ªói thanh to√°n: " + error);
        }
      });
    }

    function showGuide() {
      alert("üîç H∆∞·ªõng d·∫´n:\n\n1. Ch·ªçn nh·∫°c c·ª• b·∫±ng c√°ch nh·∫•n v√†o h√¨nh\n2. D√°n link b√†i nh·∫°c ho·∫∑c t√¨m b√†i c√≥ s·∫µn\n3. ƒêƒÉng nh·∫≠p v√≠ Pi ƒë·ªÉ s·ª≠ d·ª•ng\n4. Ch·ªçn g√≥i h·ªçc v√† thanh to√°n n·∫øu mu·ªën tr·∫£i nghi·ªám ƒë·∫ßy ƒë·ªß!");
    }
  </script>
</body>
</html>
