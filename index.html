<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>PiChordify</title>
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <script>
      Pi.init({
        version: "2.0",
        sandbox: true,
        endpoint: "pchordifykingdom7723.pinet.io"
      });

      function login() {
        const scopes = ['username', 'payments'];
        const onIncompletePaymentFound = (payment) => {
          console.log('Incomplete payment found:', payment);
        };

        Pi.authenticate(scopes, onIncompletePaymentFound)
          .then(function(auth) {
            alert("Chào bạn: " + auth.user.username);
            console.log('✅ Auth success:', auth);
          })
          .catch(function(error) {
            alert("Đăng nhập thất bại: " + error);
            console.error('❌ Auth error:', error);
          });
      }

      function pay() {
        Pi.createPayment({
          amount: 0.1,
          memo: "Gói Premium 0.1 Pi",
          metadata: { type: "premium" }
        })
          .then(function(payment) {
            alert("Thanh toán thành công!");
            console.log('✅ Payment:', payment);
          })
          .catch(function(error) {
            alert("Thanh toán thất bại: " + error);
            console.error('❌ Payment error:', error);
          });
      }
    </script>
    <style>
      body { font-family: sans-serif; background: linear-gradient(#4b2e83, #673ab7); color: white; text-align: center; padding: 50px; }
      button { margin: 10px; padding: 15px 30px; font-size: 16px; border-radius: 10px; border: none; cursor: pointer; }
      .login-btn { background-color: yellow; color: black; font-weight: bold; }
      .pay-btn { background-color: white; color: purple; font-weight: bold; }
    </style>
  </head>
  <body>
    <h1>🎸 PiChordify</h1>
    <button class="login-btn" onclick="login()">Đăng nhập Pi</button><br />
    <button class="pay-btn" onclick="pay()">Mua gói Premium</button><br /><br />
    <div>🎵 C G Am F</div>
    <div>🎵 Dm G C F</div>
    <div>🎵 Em A D G</div>
  </body>
</html>
