<!-- SDK Pi -->
<script src="https://sdk.minepi.com/pi-sdk.js"></script>
<script>
  // Khởi tạo SDK trước khi làm gì khác
  Pi.init({ version: "2.0", sandbox: true });

  // Hàm login sẽ được gọi khi nhấn nút
  function login() {
    const scopes = ['username', 'payments']; // quyền truy cập
    const onIncompletePaymentFound = (payment) => {
      console.log('Incomplete payment found:', payment);
    };

    Pi.authenticate(scopes, onIncompletePaymentFound)
      .then(function(auth) {
        console.log('Authentication success', auth);
        alert("Xin chào, " + auth.user.username);
      })
      .catch(function(error) {
        console.error('Authentication failed:', error);
        alert("Đăng nhập thất bại: " + error);
      });
  }
</script>
